{%- render 'section-heading',
  heading: section.settings.heading,
  navigation: false,
  seo_h_tag: section.settings.seo_h_tag,
  hide_border: section.settings.disable_section_title_border
-%}

{%- unless section.settings.video == blank -%}
  <div
    class="
      card element--overflow-hidden
      {% if section.settings.remove_padding %} card--no-padding {% endif %}
      {% if section.settings.remove_border_radius or section.settings.remove_padding %} card--no-radius {% endif %}
    "
  >
    {%- liquid
      if settings.page_boxed_layout
        assign sizes = 'sizes="(max-width: 1360px) 100vw, 1360px"'
      else
        assign sizes = 'sizes="100vw"'
      endif
      render 'video-component', video_url_id: section.settings.video.id, video_url_type: section.settings.video.type, image: section.settings.image, autoplay_video: false, loop_video: false, is_background: false, id: section.id, title: section.settings.video_title, sizes: sizes, attributes: 'style="aspect-ratio: 16/9"'
    -%}

    <script>
      window.KrownAssetLoader.loadScript('{{ "component-video.js" | asset_url }}');
    </script>
  </div>
{%- endunless -%}

{%- render 'color-scheme',
  color_scheme: section.settings.color_scheme,
  hide_section_bottom_border: section.settings.disable_section_bottom_border
-%}

{% schema %}
{
  "name": "t:sections.local-extra-words.sections.video.name",
  "class": "element--has-section-borders mount-video-popup",
  "settings": [
    {
      "type": "header",
      "content": "t:raw-extra-words.settings_schema.layout_labels.section_heading.label"
    },
    {
      "type": "textarea",
      "id": "heading",
      "label": "t:sections.local-extra-words.sections.headings.heading",
      "default": "Video"
    },
    {
      "type": "select",
      "id": "seo_h_tag",
      "label": "t:sections.refactor_words.seo.label",
      "info": "t:sections.refactor_words.seo.info",
      "options": [
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h3",
          "label": "H3"
        },
        {
          "value": "h4",
          "label": "H4"
        },
        {
          "value": "span",
          "label": "span"
        }
      ],
      "default": "h2"
    },
    {
      "type": "checkbox",
      "id": "disable_section_title_border",
      "label": "t:raw-extra-words.settings_schema.borders.remove.hide_section_title_border",
      "default": false
    },
    {
      "type": "header",
      "content": "t:raw-extra-words.settings_schema.labels.content"
    },
    {
      "id": "video",
      "type": "video_url",
      "label": "t:sections.local-extra-words.sections.video.settings.video.label",
      "accept": ["youtube", "vimeo"],
      "default": "https://www.youtube.com/watch?v=_9VUPq3SxOc"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.local-extra-words.sections.video.settings.image.label"
    },
    {
      "type": "header",
      "content": "t:raw-extra-words.settings_schema.colors.header_section"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:color-schemes.name_singular",
      "default": "scheme_1"
    },
    {
      "type": "checkbox",
      "id": "disable_section_bottom_border",
      "label": "t:raw-extra-words.settings_schema.borders.remove.hide_section_bottom_border",
      "default": false
    },
    {
      "type": "header",
      "content": "t:raw-extra-words.settings_schema.colors.header_inner"
    },
    {
      "type": "checkbox",
      "id": "remove_border_radius",
      "label": "t:raw-extra-words.settings_schema.borders.remove.radius",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "remove_padding",
      "label": "t:raw-extra-words.settings_schema.borders.remove.padding_and_border",
      "default": false
    }
  ],
  "presets": [
    {
      "name": "t:sections.local-extra-words.sections.video.name"
    }
  ],
  "disabled_on": {
    "groups": ["header", "custom.drawers", "custom.overlay"]
  }
}
{% endschema %}
